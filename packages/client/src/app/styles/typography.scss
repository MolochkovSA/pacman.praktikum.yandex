@use './fonts';
@use 'sass:map';

:root {
  --font-family-main: 'PressStart', 'Ubuntu', sans-serif;
  --font-size-h2: 16px;
  --font-line-h2: 20px;
  --font-h2: var(--font-size-h2) / var(--font-line-h2) var(--font-family-main);
  --font-size-h3: 14px;
  --font-line-h3: 18px;
  --font-h3: var(--font-size-h3) / var(--font-line-h3) var(--font-family-main);
  --font-size-p2: 12px;
  --font-line-p2: 16px;
  --font-p2: var(--font-size-p2) / var(--font-line-p2) var(--font-family-main);
  --font-size-p3: 10px;
  --font-line-p3: 14px;
  --font-p3: var(--font-size-p3) / var(--font-line-p3) var(--font-family-main);
  --font-size-p4: 8px;
  --font-line-p4: 12px;
  --font-p4: var(--font-size-p4) / var(--font-line-p4) var(--font-family-main);
}

$font-family: (
  press-start: (
    'PressStart',
    'Ubuntu',
    sans-serif
  )
);
$typography: (
  h2: (
    font-family: press-start,
    font-size: 16px,
    line-height: 17px,
    font-weight: 100,
    font-style: normal
  ),
  h3: (
    font-family: press-start,
    font-size: 14px,
    line-height: 15px,
    font-weight: 100,
    font-style: normal
  ),
  p2: (
    font-family: press-start,
    font-size: 12px,
    line-height: 13px,
    font-weight: 100,
    font-style: normal
  ),
  p2_input: (
    font-family: press-start,
    font-size: 12px,
    line-height: 30px,
    font-weight: 100,
    font-style: normal
  ),
  p3: (
    font-family: press-start,
    font-size: 10px,
    line-height: 11px,
    font-weight: 100,
    font-style: normal
  ),
  p4: (
    font-family: press-start,
    font-size: 8px,
    line-height: 9px,
    font-weight: 100,
    font-style: normal
  )
);

@function typography($level) {
  @if not map.has-key($typography, $level) {
    @error "Unknown typography level '#{$level}'";
  }

  @return map.get($typography, $level);
}

@mixin font-function($font-family: null, $font-size: null, $line-height: null, $font-weight: null, $font-style: null) {
  font-family: $font-family;
  font-size: $font-size;
  line-height: $line-height;
  font-weight: $font-weight;
  font-style: $font-style;
}

@mixin font($level) {
  @include font-function(
    font-family($level),
    font-size($level),
    line-height($level),
    font-weight($level),
    font-style($level)
  );
}

@function font-family($level: null) {
  @return map.get($font-family, if($level == null, IS, map.get(typography($level), font-family)));
}

@function font-size($level) {
  @return map.get(typography($level), font-size);
}

@function line-height($level) {
  @return map.get(typography($level), line-height);
}

@function font-weight($level) {
  @return map.get(typography($level), font-weight);
}

@function font-style($level) {
  @return map.get(typography($level), font-style);
}
